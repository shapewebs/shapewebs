"use client"

import { useState, useRef, useEffect } from "react"
import Link from "next/link"
import { usePathname } from "next/navigation"
import { ThemeToggle } from "@/components/theme-toggle"
import { SearchPopup } from "@/components/search-popup"
import { Tooltip, TooltipProvider } from "@/components/ui/tooltip"

// Replace the NavSubmenu component with an updated version that supports sections
function NavSubmenu({ title, items, isOpen, onToggle, onHover, menuIndex }: SubmenuProps) {
  return (
    <div className="header__nav-submenu-wrapper__P3j7q" onMouseEnter={onHover} data-menu-index={menuIndex}>
      <button
        className={`button__root__ZxcvB button__kind-ghost__R5j2s button__size-small__L9d7h header__nav-dropdown-trigger__Z8p4r ${
          isOpen ? "header__nav-dropdown-active__L7k3q" : ""
        }`}
        onClick={onToggle}
        aria-expanded={isOpen}
        aria-haspopup="true"
      >
        {title}
      </button>
    </div>
  )
}

// Update the interface for submenu items to include sections
interface SubmenuProps {
  title: string
  sections: {
    title: string
    items: { label: string; description: string; href: string }[]
  }[]
  isOpen: boolean
  onToggle: () => void
  onHover: () => void
  menuIndex: number
}

export function Header() {
  const pathname = usePathname()
  const [openSubmenu, setOpenSubmenu] = useState<string | null>(null)
  const [prevSubmenu, setPrevSubmenu] = useState<string | null>(null)
  const [transitionDirection, setTransitionDirection] = useState<"left" | "right" | null>(null)
  const [submenuHeight, setSubmenuHeight] = useState<number>(0)
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false)
  const headerRef = useRef<HTMLElement | null>(null)
  const submenuRef = useRef<HTMLDivElement | null>(null)
  const submenuContentRef = useRef<HTMLDivElement | null>(null)
  const mobileMenuRef = useRef<HTMLDivElement | null>(null)
  // First, add a state variable for the search popup at the top of the Header component, after other state declarations
  const [searchOpen, setSearchOpen] = useState(false)

  // Menu indices for determining transition direction
  const menuIndices = {
    product: 0,
    resources: 1,
  }

  // Update the search toggle function to handle animation
  const toggleSearch = () => {
    if (!searchOpen) {
      setSearchOpen(true)
    }
    // When closing, we don't immediately set searchOpen to false
    // The SearchPopup component will handle this with its animation
  }

  // Update the keyboard shortcut handler to properly handle animation
  useEffect(() => {
    const handleKeyDown = (e: KeyboardEvent) => {
      // Check for Cmd+K (Mac) or Ctrl+K (Windows/Linux)
      if ((e.metaKey || e.ctrlKey) && e.key === "k") {
        e.preventDefault() // Prevent browser's default behavior

        if (searchOpen) {
          // Get the SearchPopup to handle its own closing animation
          // We'll let the SearchPopup call onClose when animation is done
          const closeButton = document.querySelector(".search-popup__close-button__H5j8q") as HTMLButtonElement
          if (closeButton) {
            closeButton.click()
          }
        } else {
          // Just open the popup
          setSearchOpen(true)
        }
      }
    }

    window.addEventListener("keydown", handleKeyDown)
    return () => window.removeEventListener("keydown", handleKeyDown)
  }, [searchOpen])

  // Update submenu height when content changes
  useEffect(() => {
    if (openSubmenu && submenuContentRef.current) {
      const height = submenuContentRef.current.scrollHeight
      setSubmenuHeight(height)
    } else if (mobileMenuOpen && mobileMenuRef.current) {
      const height = mobileMenuRef.current.scrollHeight
      setSubmenuHeight(height)
    } else {
      setSubmenuHeight(0)
    }
  }, [openSubmenu, mobileMenuOpen])

  const toggleSubmenu = (menu: string) => {
    if (openSubmenu === menu) {
      setOpenSubmenu(null)
    } else {
      handleSubmenuChange(menu)
    }
  }

  const handleHover = (menu: string) => {
    if (menu !== openSubmenu) {
      handleSubmenuChange(menu)
    }
  }

  const handleSubmenuChange = (newMenu: string) => {
    if (openSubmenu) {
      setPrevSubmenu(openSubmenu)

      // Determine transition direction based on menu indices
      const prevIndex = menuIndices[openSubmenu as keyof typeof menuIndices]
      const newIndex = menuIndices[newMenu as keyof typeof menuIndices]

      if (prevIndex < newIndex) {
        setTransitionDirection("right") // Moving right
      } else {
        setTransitionDirection("left") // Moving left
      }
    } else {
      setTransitionDirection(null)
    }

    setOpenSubmenu(newMenu)
  }

  // Handle mouse leave from the entire header - close immediately
  const handleHeaderMouseLeave = () => {
    setPrevSubmenu(null)
    setOpenSubmenu(null)
    setTransitionDirection(null)
  }

  // Toggle mobile menu
  const toggleMobileMenu = () => {
    setMobileMenuOpen(!mobileMenuOpen)
    if (openSubmenu) {
      setOpenSubmenu(null)
    }
  }

  // Updated resources menu with new sections
  const resourcesSections = [
    {
      title: "Company",
      items: [
        {
          label: "About",
          description: "Our mission and team",
          href: "/about",
        },
        {
          label: "Career",
          description: "Join our growing team",
          href: "/career",
        },
      ],
    },
    {
      title: "Explore",
      items: [
        {
          label: "Documentation",
          description: "Guides and reference for our platform",
          href: "/docs",
        },
        {
          label: "Templates",
          description: "Ready-to-use website designs",
          href: "/templates",
        },
        {
          label: "Case Studies",
          description: "Success stories from our clients",
          href: "/case-studies",
        },
        {
          label: "Tutorials",
          description: "Step-by-step guides for common tasks",
          href: "/tutorials",
        },
        {
          label: "Webinars",
          description: "Live and recorded training sessions",
          href: "/webinars",
        },
        {
          label: "README",
          description: "The story of ShapeWebs",
          href: "/readme",
        },
      ],
    },
  ]

  // Updated product menu with new sections
  const productSections = [
    {
      title: "Core Features",
      items: [
        {
          label: "Plan",
          description: "Project planning and roadmap tools",
          href: "/plan",
        },
        {
          label: "Build",
          description: "Development and deployment solutions",
          href: "/build",
        },
      ],
    },
    {
      title: "More",
      items: [
        {
          label: "Analytics",
          description: "Track and analyze your performance",
          href: "/analytics",
        },
        {
          label: "Integrations",
          description: "Connect with your favorite tools",
          href: "/integrations",
        },
        {
          label: "Security",
          description: "Keep your data safe and secure",
          href: "/security",
        },
        {
          label: "Automation",
          description: "Streamline your workflows",
          href: "/automation",
        },
        {
          label: "Collaboration",
          description: "Work together with your team",
          href: "/collaboration",
        },
        {
          label: "Enterprise",
          description: "Solutions for large organizations",
          href: "/enterprise",
        },
      ],
    },
  ]

  // Update the navItems array to include Customers before Pricing and Contact after Pricing, and remove Get Started
  const navItems = [
    { label: "Docs", href: "/docs", className: "header__nav-item-docs__P8j3s" },
    { label: "Customers", href: "/customers", className: "header__nav-item-customers__L5k8q" },
    { label: "Pricing", href: "/pricing", className: "" },
    { label: "Contact", href: "/contact", className: "header__nav-item-contact__Z7j3s" },
  ]

  // Calculate if any submenu is open
  const isAnySubmenuOpen = openSubmenu !== null

  // Determine which submenu sections to show
  const activeSubmenuSections =
    openSubmenu === "resources" ? resourcesSections : openSubmenu === "product" ? productSections : []

  // Determine transition classes
  const getTransitionClasses = () => {
    if (!transitionDirection) return ""

    return `header__submenu-transition-${transitionDirection}__P8j4r`
  }

  return (
    <TooltipProvider>
      <header
        ref={headerRef}
        className={`header__container__K9p3s ${mobileMenuOpen ? "header__mobile-open__H5k8q" : ""}`}
        onMouseLeave={handleHeaderMouseLeave}
        style={{
          height:
            isAnySubmenuOpen || mobileMenuOpen
              ? `calc(var(--header-height) + ${submenuHeight}px)`
              : "var(--header-height)",
        }}
      >
        <div className="header__content__Z7j2q">
<Link href="/" className="header__logo-link__B5m7s">
    <svg style={{ width: "fit-content" }} viewBox="0 0 9119 1488" xmlns="http://www.w3.org/2000/svg">
<path d="m505 57.723c-17.293 0.592-45.828 4.028-68 8.187-98.304 18.442-175.36 55.957-245.43 119.49-30.448 27.606-60.834 61.744-82.562 92.757-49.071 70.042-78.705 149.07-85.433 227.84-2.568 30.063-2.55 27.552-3.197 451l-0.613 401.5 1.095 7.647c0.603 4.207 2.076 10.27 3.276 13.475l2.18 5.827 4.892 5.173c5.57 5.89 11.577 8.85 22.139 10.909l7.157 1.396 648.06 0.079 5.89-1.534c8.998-2.344 17.099-7.152 22.884-13.583 6.211-6.902 3.934-2.555 32.669-62.389 5.5-11.454 23.521-47.906 87.5-177 15.81-31.9 40.784-82.3 55.497-112 30.045-60.648 67.099-135.43 109-220 15.534-31.35 40.284-81.3 55-111s39.466-79.65 55-111 40.284-81.3 55-111 39.466-79.65 55-111 40.284-81.3 54.999-111 39.911-80.55 55.992-113c40.746-82.225 38.409-77.099 38.124-83.641l-0.115-2.642-4.25-1.787-4.25-1.786-236-0.332c-464.57-0.652-635.1-0.809-641.5-0.589m1821 204.94c-85.86 5.796-168.17 34.516-220.71 77.01-66.614 53.879-99.293 122.9-99.293 209.7v19.17l3.046 17.381c7.096 40.498 16.179 65.46 33.595 92.327 13.917 21.469 38.944 48.001 57.359 60.806 1.925 1.339 3.725 2.674 4 2.968 4.058 4.334 35.966 23.41 53 31.684 42.541 20.666 79.221 31.622 172 51.375 110.59 23.545 145.92 34.084 183.22 54.665 37.256 20.555 59.595 51.343 65.437 90.183l1.588 10.559-0.571 12.5c-3.326 72.781-46.81 118.12-134.17 139.91-44.895 11.195-92.792 12.566-140 4.006-100.34-18.193-156.48-61.668-172.94-133.92-2.212-9.707-3.208-11.622-7.385-14.203l-3.454-2.135-58.609-0.353c-32.234-0.193-61.748-0.049-65.587 0.321l-6.978 0.673-5.543 5.543 0.033 6.327c0.049 9.619 3.06 30.783 6.565 46.148 31.566 138.4 169.26 225.07 360.9 227.17 217.19 2.381 358.99-93.915 376.96-255.99l1.441-13-0.732-58-2.53-15.5c-16.301-99.848-77.523-162.04-198.92-202.09-35.577-11.735-65.782-19.158-154.22-37.898-38.305-8.117-61.996-13.812-85.5-20.552-76.069-21.815-116.5-55.906-127.62-107.62l-1.795-8.346 0.03-18 0.031-18 2.153-9.123c15.204-64.398 70.938-103.92 160.68-113.92l12.028-1.341 56 0.656 12 1.635c90.034 12.262 145.86 58.6 162.63 134.98 2.369 10.796 2.925 11.896 7.63 15.093l3.707 2.519h65.657 65.657l4.722-3.836-0.093-8.832c-0.169-15.935-5.238-43.83-11.849-65.208-35.678-115.36-146.24-193.5-291.06-205.69-3.85-0.324-8.125-0.815-9.5-1.091-3.064-0.616-65.359-1.195-73-0.679m5427.9 16.148c-1.855 0.927-3.965 2.93-4.688 4.452l-1.314 2.768-0.068 482.58-0.069 482.58 5.308 5.308 65.228 0.18c68.351 0.188 70.615 0.056 72.58-4.256l1.147-2.518v-54.453-54.453l1.5-0.15c0.825-0.083 1.904-0.195 2.397-0.25 1.105-0.123 7.709 8.78 16.288 21.957 13.612 20.91 35.397 44.413 51.427 55.484 40.193 27.759 66.195 39.147 106.89 46.812 154.7 29.142 289.27-63.47 330.37-227.35 14.069-56.105 21.621-152.91 14.744-189-0.21-1.1-0.701-5.375-1.092-9.5-13.727-144.86-88.711-256.88-196.02-292.84-32.551-10.909-57.38-14.672-96-14.55l-26 0.082-13 1.63c-16.149 2.025-17.638 2.282-30.161 5.215-57.634 13.496-108.86 50.319-143.66 103.27-3.649 5.552-9.006 12.404-11.904 15.227l-5.27 5.133-0.5-188.83-0.5-188.84-1.428-2.15c-0.785-1.182-2.874-2.839-4.641-3.682l-3.214-1.532-124.97-6e-3 -3.375 1.685m-2008.2 1.429c0.555 2.348 6.563 24.649 8.285 30.756 0.543 1.925 2.116 7.775 3.497 13s2.956 11.075 3.5 13 2.119 7.775 3.5 13 2.956 11.075 3.5 13 2.119 7.775 3.5 13 2.942 11.075 3.471 13c0.528 1.925 2.104 7.775 3.502 13s2.975 11.075 3.506 13 2.097 7.775 3.48 13c1.384 5.225 4.034 15.125 5.891 22 1.856 6.875 5.066 18.8 7.131 26.5 2.066 7.7 5.216 19.4 7 26 1.785 6.6 4.936 18.3 7.003 26 2.068 7.7 5.47 20.3 7.561 28s5.669 20.975 7.95 29.5c2.282 8.525 5.434 20.225 7.005 26s4.721 17.475 7 26 5.428 20.225 6.997 26 4.971 18.375 7.56 28 6.169 22.9 7.957 29.5c1.787 6.6 4.939 18.3 7.005 26 2.065 7.7 5.215 19.4 7 26 1.784 6.6 4.934 18.3 7 26 6.07 22.629 10.427 38.751 11.484 42.5 0.543 1.925 2.116 7.775 3.497 13s2.956 11.075 3.5 13 2.119 7.775 3.5 13 2.956 11.075 3.5 13 2.119 7.775 3.5 13 2.942 11.075 3.471 13c0.528 1.925 2.042 7.55 3.365 12.5 5.57 20.85 10.102 37.742 13.145 49 1.785 6.6 4.935 18.3 7 26 2.066 7.7 5.216 19.4 7 26 1.785 6.6 4.936 18.3 7.003 26 2.068 7.7 5.47 20.3 7.561 28s5.669 20.975 7.95 29.5c2.282 8.525 5.434 20.225 7.005 26s4.725 17.475 7.009 26c5.411 20.193 10.252 38.157 14.955 55.5 2.088 7.7 4.854 17.938 6.147 22.75l2.35 8.75h72.127 72.126l7.541-26.25c4.148-14.437 22.024-76.875 39.726-138.75s49.676-173.48 71.054-248 43.188-150.8 48.467-169.5c15.829-56.074 44.564-155.9 45.003-156.34 1.709-1.709 3.861 3.588 9.732 23.961 8.281 28.739 67.593 236.01 102.98 359.88 14.377 50.325 43.065 150.68 63.75 223l37.611 131.5h72.397 72.396l2.807-10.5c1.545-5.775 4.443-16.575 6.441-24 4.436-16.488 7.696-28.631 10.87-40.5 1.324-4.95 3.141-11.7 4.038-15s2.468-9.15 3.491-13c2.247-8.452 5.345-20.025 7.362-27.5 0.816-3.025 2.391-8.875 3.5-13s2.714-10.088 3.568-13.25 2.25-8.338 3.104-11.5 2.459-9.125 3.566-13.25c1.108-4.125 3.053-11.325 4.323-16 1.269-4.675 3.942-14.575 5.94-22s5.21-19.35 7.138-26.5c1.927-7.15 5.077-18.85 7-26 1.922-7.15 5.072-18.85 7-26 1.927-7.15 5.077-18.85 7-26 4.704-17.497 9.288-34.478 14.981-55.5s10.277-38.003 14.981-55.5c1.923-7.15 5.073-18.85 7-26 1.928-7.15 5.078-18.85 7-26 1.923-7.15 5.073-18.85 7-26 1.928-7.15 5.078-18.85 7-26 1.923-7.15 5.073-18.85 7-26 1.928-7.15 5.078-18.85 7-26 1.923-7.15 5.073-18.85 7-26 1.928-7.15 5.078-18.85 7-26 1.923-7.15 5.073-18.85 7-26 5.147-19.091 9.434-35.063 11.54-43 2.14-8.065 5.217-19.561 7.359-27.5 0.816-3.025 2.391-8.875 3.5-13s2.684-9.975 3.5-13 2.391-8.875 3.5-13 2.684-9.975 3.5-13 2.391-8.875 3.5-13c2.61-9.711 4.421-16.417 7.427-27.5 1.343-4.95 4.076-15.075 6.074-22.5s5.21-19.35 7.138-26.5c1.927-7.15 5.077-18.85 7-26 1.922-7.15 5.072-18.85 7-26 1.927-7.15 5.133-19.075 7.122-26.5 1.99-7.425 3.838-14.288 4.105-15.25l0.487-1.75h-78.097-78.098l-0.51 2.25c-0.73 3.216-6.277 26.796-8.528 36.25-1.048 4.4-3.298 13.85-5 21-4.407 18.504-7.84 32.979-9.606 40.5-0.839 3.575-2.603 11-3.92 16.5-4.252 17.76-11.873 49.754-15.366 64.5-1.107 4.675-3.406 14.35-5.108 21.5-5.059 21.243-7.982 33.518-10.001 42-3.592 15.096-8.079 34.004-9.49 40-0.777 3.3-2.757 11.625-4.401 18.5-3.617 15.126-7.104 29.773-10.596 44.5-2.635 11.112-3.896 16.416-9.512 40-6.183 25.966-6.955 29.213-9.992 42-1.697 7.15-3.722 15.7-4.499 19s-2.757 11.625-4.401 18.5c-3.547 14.837-7.225 30.284-10 42-1.107 4.675-3.406 14.35-5.108 21.5s-3.952 16.6-5 21-3.298 13.85-5 21c-4.069 17.086-7.743 32.568-9.491 40-0.777 3.3-2.757 11.625-4.401 18.5s-4.14 17.337-5.548 23.25c-1.408 5.912-3.663 15.362-5.011 21-1.348 5.637-3.351 14.075-4.452 18.75s-3.395 14.35-5.097 21.5c-1.703 7.15-4.221 17.725-5.596 23.5-5.663 23.781-6.593 27.496-7.076 28.278-0.883 1.43-3.175-1.297-3.862-4.597-0.365-1.75-2.81-11.056-5.434-20.681s-7.139-26.275-10.032-37-7.393-27.375-10-37-7.107-26.275-10-37-7.393-27.375-10-37-7.107-26.275-10-37-7.393-27.375-10-37-7.107-26.275-10-37-7.393-27.375-10-37-7.107-26.275-10-37c-6.251-23.171-14.4-53.311-16.493-61-0.824-3.025-3.072-11.35-4.997-18.5s-4.175-15.475-5-18.5-3.071-11.35-4.99-18.5-4.183-15.475-5.031-18.5c-1.989-7.093-2.867-10.349-6.068-22.5-1.448-5.5-3.206-12.025-3.905-14.5-2.007-7.106-3.2-11.481-7.499-27.5-2.214-8.25-4.464-16.575-5-18.5s-2.786-10.25-5-18.5-4.464-16.575-5-18.5-2.786-10.25-5-18.5-4.464-16.575-5-18.5-2.786-10.25-5-18.5-4.464-16.575-5-18.5-2.726-10.025-4.868-18c-6.937-25.831-14.361-53.389-15.625-58l-1.233-4.5-142.83-0.513-3.856 14.256c-2.121 7.842-5.991 22.132-8.6 31.757s-7.111 26.275-10.004 37-7.393 27.375-10 37c-5.635 20.809-13.755 50.913-19.149 71-2.142 7.975-4.332 16.075-4.868 18s-2.786 10.25-5 18.5-4.464 16.575-5 18.5-2.786 10.25-5 18.5-4.464 16.575-5 18.5-2.786 10.25-5 18.5-4.464 16.575-5 18.5-2.786 10.25-5 18.5-4.464 16.575-5 18.5-2.786 10.25-5 18.5-4.466 16.575-5.003 18.5c-1.087 3.892-7.963 29.28-15.979 59-2.893 10.725-7.388 27.375-9.989 37s-7.525 27.85-10.943 40.5-8.168 30.2-10.555 39-7.135 26.35-10.552 39c-3.416 12.65-8.347 30.875-10.957 40.5-2.609 9.625-7.112 26.275-10.005 37-7.835 29.041-14.277 52.828-18.497 68.298l-3.765 13.798-1.583-0.305c-0.932-0.179-1.946-1.948-2.465-4.298-0.907-4.108-5.92-25.322-10.159-42.993-1.32-5.5-3.086-12.925-3.926-16.5-1.575-6.707-5.829-24.636-10.201-43-1.376-5.775-3.401-14.325-4.501-19-1.101-4.675-3.077-13-4.391-18.5s-3.569-14.95-5.01-21c-5.684-23.854-8.684-36.424-10.976-46-1.317-5.5-3.081-12.925-3.921-16.5-1.468-6.251-5.609-23.712-9.604-40.5-1.048-4.4-3.07-12.95-4.495-19s-3.454-14.6-4.509-19-3.312-13.85-5.015-21c-5.546-23.284-8.051-33.79-11.09-46.5-1.644-6.875-3.624-15.2-4.401-18.5s-2.802-11.85-4.499-19c-3.037-12.787-3.809-16.034-9.992-42-1.702-7.15-3.996-16.825-5.097-21.5s-3.132-13.225-4.514-19c-1.381-5.775-3.636-15.225-5.01-21s-3.843-16.125-5.487-23-3.624-15.2-4.401-18.5-2.802-11.85-4.499-19c-3.037-12.787-3.809-16.034-9.992-42-1.702-7.15-3.996-16.825-5.097-21.5s-3.104-13.113-4.452-18.75-3.603-15.087-5.011-21-3.85-16.15-5.428-22.75c-2.826-11.822-3.755-15.743-10.07-42.5-1.752-7.425-3.745-15.75-4.428-18.5l-1.242-5-156.09-0.512 0.534 2.256m-2889.5 487.01 0.251 488.25 143.5 0.513 0.068-168.76c0.037-92.817 0.238-176.63 0.447-186.26s0.638-33.501 0.953-53.057c0.315-19.557 0.732-36.432 0.928-37.5 0.195-1.069 0.671-5.093 1.058-8.943 8.481-84.386 78.712-146.6 165.55-146.64l17.5-9e-3 10 1.667c82.728 13.796 128.84 70.58 133.99 164.98 0.3 5.5 0.761 105.4 1.026 222l0.48 212 143.77 0.513 0.589-2.756c0.795-3.718 0.166-463.82-0.64-468.26-0.349-1.925-1.138-8.45-1.752-14.5-15.924-156.83-135.42-257.56-283.46-238.96-16.426 2.063-21.169 2.784-30 4.561-66.356 13.355-112.46 47.052-150.02 109.66-4.374 7.29-8.409 13.103-8.968 12.917l-1.015-0.339-0.253-189.67-0.252-189.67h-71.999-71.998l0.251 488.25m1043.8-237.57c-142.68 5.371-239.84 66.787-271.81 171.82-4.745 15.585-10.803 50.216-9.086 51.934 0.26 0.259 29.256 0.526 64.436 0.593l63.964 0.122 3.184-1.149c4.199-1.516 5.423-3.579 9.686-16.319 20.911-62.491 88.172-94.991 174.13-84.14 65.471 8.265 102.98 42.762 112.51 103.46l1.805 11.5 0.131 31.75 0.13 31.75-6.287 0.077c-3.459 0.042-6.963 0.206-7.788 0.366-0.825 0.159-7.575 0.59-15 0.957-7.425 0.368-16.2 0.872-19.5 1.122s-14.55 0.912-25 1.471c-10.45 0.56-22.6 1.247-27 1.527s-23.3 1.389-42 2.465c-53.494 3.078-60.815 3.662-89 7.109-142.22 17.394-225.43 91.081-227.99 201.91l-0.381 16.5 1.396 11c0.769 6.05 1.595 11.9 1.838 13 0.242 1.1 1.141 5.375 1.998 9.5 3.715 17.894 10.333 36.817 19.934 57 21.97 46.184 73.525 87.371 128.28 102.48 33.189 9.159 50.67 11.663 81.415 11.663 90.385 0 164.17-37.852 211.86-108.68 4.459-6.623 9.467-13.345 11.129-14.937l3.022-2.895v56.687 56.687h72.004 72.004l-0.106-248.75c-0.058-136.81-0.5-253.25-0.983-258.75-10.034-114.27-80.671-187.32-204.92-211.9-19.712-3.9-67.662-8.414-78.5-7.389-1.1 0.104-5.375 0.316-9.5 0.472m1484 0.906c-160.96 16.841-262.99 118-291.4 288.91-0.275 1.65-1.163 7.05-1.975 12-22.626 137.97 21.448 287.03 106.87 361.44 12.534 10.92 38.689 30.055 41.08 30.055 0.336 0 1.806 0.838 3.266 1.862 22.399 15.712 79.953 35.699 118.65 41.205 180.36 25.66 339-66.879 366.44-213.75l0.806-4.315h-68.794-68.793l-1.204 3.75c-22.385 69.718-109.66 111.16-201.68 95.762-44.2-7.395-78.544-26.173-105.27-57.556-3.023-3.551-5.767-6.681-6.097-6.956-12.275-10.23-33.876-61.328-39.427-93.267-2.287-13.16-3.877-41.169-2.781-48.981l0.526-3.748 501.28-0.504v-32.5c0-28.556-0.825-54.807-1.952-62.118-0.202-1.31-0.659-5.757-1.016-9.882-13.849-159.99-116.81-277.23-263.1-299.59l-16.931-2.587-55-0.653-13.5 1.413m3379.5-0.923c-156.14 13.956-249.16 98.488-245.21 222.83 1.967 61.944 24.794 103.5 78.707 143.3 7.729 5.706 28.728 17.146 43.5 23.698 24.875 11.034 44.234 16.583 119 34.109 138.17 32.389 165.38 46.129 176.62 89.2l2.009 7.697 0.032 10c0.2 61.966-51.597 96.198-145.16 95.934l-23.5-0.067-10.907-1.702c-58.942-9.201-95.238-38.152-111.16-88.665-4.391-13.93-5.275-15.85-8.178-17.752l-2.262-1.482-68.556-0.517-68.557-0.518 0.617 8.385c5.86 79.661 63.425 156.67 140.11 187.45 29.491 11.833 73.788 22.915 105.39 26.364 5.225 0.571 11.525 1.294 14 1.608 24.88 3.156 76.727 0.355 111.5-6.025 147.73-27.102 234.23-130.22 210.15-250.51-4.859-24.276-12.723-44.837-23.711-62l-4.161-6.5-10.639-8.74c-5.852-4.807-12.665-10.555-15.14-12.774-19.487-17.469-55.469-40.094-71.444-44.923-1.681-0.508-6.656-2.294-11.056-3.968-10.431-3.97-30.778-9.821-52-14.955-198.26-47.962-211.64-53.539-225.67-94.118-20.577-59.488 20.702-110.92 97.526-121.52l10.148-1.4 17.5 0.358 17.5 0.359 12 2.107c35.393 6.216 58.004 16.704 77.034 35.735 15.152 15.152 26.479 38.089 31.154 63.085l1.73 9.25h67.732c40.928 0 67.961-0.37 68.31-0.935 0.712-1.153-1.945-23.699-4.075-34.565-6.2-31.637-22.461-69.103-38.653-89.06-52.443-64.634-134.21-99.33-233.73-99.173-13.475 0.021-26.3 0.2-28.5 0.396m-1474.5 0.648c-0.262 0.238-4.977 0.713-10.477 1.056-126.32 7.888-220.77 78.818-268.5 201.63-2.885 7.425-6.052 15.525-7.037 18-8.737 21.947-19.115 67.759-22.426 99-0.321 3.025-0.839 7.3-1.151 9.5s-0.722 17.725-0.911 34.5l-0.343 30.5 1.373 14c3.697 37.713 8.56 63.509 19.136 101.5 8.618 30.962 22.649 64.122 36.811 87 20.007 32.319 39.287 53.676 72.249 80.03 26.119 20.883 78.584 44.743 118.66 53.966 33.353 7.675 80.927 11.234 113.72 8.508 77.9-6.478 134.02-26.153 182.41-63.945 51.578-40.285 87.305-95.683 96.934-150.31l1.278-7.25h-68.789-68.788l-0.665 2.25c-5.849 19.81-30.234 53.569-47.046 65.134-27.262 18.752-50.812 28.376-79.924 32.66-4.4 0.648-9.125 1.355-10.5 1.572-13.277 2.094-47.456 0.767-67.5-2.621-72.738-12.295-125.44-64.128-144.38-142-4.476-18.408-7.018-44.194-6.284-63.75l0.16-4.25h251.02 251.02l-0.142-37.25c-0.502-131.2-30.808-217.78-100.21-286.27-7.256-7.16-14.992-14.36-17.192-16-2.199-1.64-6.266-4.802-9.036-7.027-39.359-31.603-91.739-51.54-154.96-58.984-6.195-0.729-57.867-1.753-58.523-1.16m-2606 1.298c-1.375 0.212-6.55 0.881-11.5 1.487-70.597 8.64-131.51 45.934-170.08 104.14-8.874 13.39-11.672 17.579-14.8 22.153l-1.29 1.887-1.914-4.387-1.913-4.387-0.518-100.63-1.558-3.012c-0.88-1.703-3.082-3.649-5.066-4.478l-3.51-1.466-128.35 0.59-2.335 1.33c-1.284 0.732-2.971 2.855-3.75 4.718l-1.415 3.388v467.53 467.53h73 73v-173.5-173.5h2.766 2.767l3.157 5.25c1.737 2.888 5.811 8.4 9.055 12.25 3.243 3.85 9.898 11.95 14.787 18 21.668 26.808 33.473 37.852 58.143 54.394 27.848 18.673 56.793 29.981 92.825 36.266l13 2.268 28 0.02 28 0.021 14.5-2.281c69.231-10.889 113-31.893 155.5-74.632 60.826-61.16 91.991-140.46 101.03-257.06l1.318-17-0.395-28.5c-0.217-15.675-0.593-29.625-0.836-31s-0.736-6.325-1.095-11c-4.638-60.333-30.92-148.01-54.941-183.29-1.421-2.087-2.584-3.968-2.584-4.18 0-0.87-12.652-19.493-17.342-25.526-44.122-56.755-101.25-88.875-180.66-101.57l-10.5-1.679-26-0.264c-14.3-0.145-27.125-0.091-28.5 0.121m708.02 118.95c-66.761 9.486-116.92 50.119-141.28 114.44-7.849 20.73-14.743 49.723-14.743 62.007v5.993h179c112.28 0 179-0.354 179-0.949 0-0.522-0.906-5.81-2.013-11.75-1.108-5.941-2.716-14.626-3.575-19.301-17.254-93.908-78.857-149.67-167.41-151.54l-18.5-0.391-10.479 1.489m1898.6 0.473c-89.907 10.235-153.63 78.748-160.18 172.22l-0.683 9.75h177.64 177.64l-1e-3 -2.75c-0.048-109.21-89.001-191.22-194.41-179.22m-2642.6 5.036c-62.375 9.207-112.04 46.229-136.75 101.93-1.341 3.025-3.251 7.3-4.243 9.5-44.378 98.416-30.932 241.57 29.399 313 27.417 32.46 60.651 52.139 103.34 61.191l12.756 2.705 21.5-0.019 21.5-0.018 11.5-2.28c55.189-10.943 96.542-43.155 120.01-93.484 14.788-31.711 27.322-76.478 30.546-109.1 0.38-3.85 0.886-7.9 1.125-9 7.582-34.987-6.533-121.35-28.055-171.66-31.699-74.1-103.42-114.46-182.63-102.77m3418.6 0.137c-110.7 7.888-184.54 125.02-172.26 273.29 9.544 115.3 67.182 194.74 154.23 212.57l9.946 2.037 39.563 1.166 9.219-1.225c91.16-12.123 149.73-86.123 160.71-203.05 0.593-6.325 1.285-13.3 1.536-15.5 0.921-8.078 0.55-54.42-0.52-65.047-3.389-33.623-11.357-66.036-22.642-92.104-0.75-1.733-1.364-3.422-1.364-3.754 0-2.154-13.364-26.843-19.499-36.021-34.79-52.051-90.16-77.267-158.91-72.368m-6795.6 257.41c-56.304 7.115-94.983 21.322-130.65 47.986-34.031 25.443-62.634 63.182-80.644 106.4-9.06 21.741-13.004 36.815-16.218 61.991l-1.341 10.5 0.337 20.5 0.338 20.5 2.086 13.573c21.66 140.88 157.16 233 296.09 201.31 70.381-16.059 121.49-53.7 158.42-116.67 22.449-38.278 30.787-73.516 30.101-127.21l-0.345-27-1.526-9c-16.347-96.39-83.803-170.19-178.65-195.44-9.946-2.648-14.412-3.606-28.507-6.115-6.225-1.108-43.355-2.103-49.5-1.327m2755 21.465c-5.775 0.348-16.35 0.935-23.5 1.303-7.15 0.369-15.7 0.874-19 1.122-3.3 0.247-10.275 0.686-15.5 0.974-17.761 0.979-43.48 2.539-49.5 3.003-3.3 0.255-9.375 0.716-13.5 1.026-32.603 2.448-46.673 3.916-56.742 5.923-4.635 0.924-22.256 5.887-36.032 10.149-7.851 2.429-14.856 4.416-15.567 4.416-3.723 0-19.654 9.873-28.405 17.604-22.588 19.954-31.973 44.124-30.103 77.52l0.651 11.623 2.66 8.877c14.348 47.883 61.954 74.754 129.56 73.128l19.482-0.469 12.407-2.228c40.961-7.354 76.504-25.111 102.09-51.007 8.305-8.404 9.491-9.789 16.305-19.048 19.678-26.737 30.404-69.3 29.106-115.5-0.123-4.4-0.333-12.03-0.465-16.956-0.133-4.926-0.458-9.786-0.723-10.799l-0.482-1.842-6.12 0.274c-3.367 0.151-10.846 0.559-16.621 0.907" fill="currentColor" fillRule="evenodd"/>
<path d="m505 57.723c-17.293 0.592-45.828 4.028-68 8.187-98.304 18.442-175.36 55.957-245.43 119.49-30.448 27.606-60.834 61.744-82.562 92.757-49.071 70.042-78.705 149.07-85.433 227.84-2.568 30.063-2.55 27.552-3.197 451l-0.613 401.5 1.095 7.647c0.603 4.207 2.076 10.27 3.276 13.475l2.18 5.827 4.892 5.173c5.57 5.89 11.577 8.85 22.139 10.909l7.157 1.396 648.06 0.079 5.89-1.534c8.998-2.344 17.099-7.152 22.884-13.583 6.211-6.902 3.934-2.555 32.669-62.389 5.5-11.454 23.521-47.906 87.5-177 15.81-31.9 40.784-82.3 55.497-112 30.045-60.648 67.099-135.43 109-220 15.534-31.35 40.284-81.3 55-111s39.466-79.65 55-111 40.284-81.3 55-111 39.466-79.65 55-111 40.284-81.3 54.999-111 39.911-80.55 55.992-113c40.746-82.225 38.409-77.099 38.124-83.641l-0.115-2.642-4.25-1.787-4.25-1.786-236-0.332c-464.57-0.652-635.1-0.809-641.5-0.589m1821 204.94c-85.86 5.796-168.17 34.516-220.71 77.01-66.614 53.879-99.293 122.9-99.293 209.7v19.17l3.046 17.381c7.096 40.498 16.179 65.46 33.595 92.327 13.917 21.469 38.944 48.001 57.359 60.806 1.925 1.339 3.725 2.674 4 2.968 4.058 4.334 35.966 23.41 53 31.684 42.541 20.666 79.221 31.622 172 51.375 110.59 23.545 145.92 34.084 183.22 54.665 37.256 20.555 59.595 51.343 65.437 90.183l1.588 10.559-0.571 12.5c-3.326 72.781-46.81 118.12-134.17 139.91-44.895 11.195-92.792 12.566-140 4.006-100.34-18.193-156.48-61.668-172.94-133.92-2.212-9.707-3.208-11.622-7.385-14.203l-3.454-2.135-58.609-0.353c-32.234-0.193-61.748-0.049-65.587 0.321l-6.978 0.673-5.543 5.543 0.033 6.327c0.049 9.619 3.06 30.783 6.565 46.148 31.566 138.4 169.26 225.07 360.9 227.17 217.19 2.381 358.99-93.915 376.96-255.99l1.441-13-0.732-58-2.53-15.5c-16.301-99.848-77.523-162.04-198.92-202.09-35.577-11.735-65.782-19.158-154.22-37.898-38.305-8.117-61.996-13.812-85.5-20.552-76.069-21.815-116.5-55.906-127.62-107.62l-1.795-8.346 0.03-18 0.031-18 2.153-9.123c15.204-64.398 70.938-103.92 160.68-113.92l12.028-1.341 56 0.656 12 1.635c90.034 12.262 145.86 58.6 162.63 134.98 2.369 10.796 2.925 11.896 7.63 15.093l3.707 2.519h65.657 65.657l4.722-3.836-0.093-8.832c-0.169-15.935-5.238-43.83-11.849-65.208-35.678-115.36-146.24-193.5-291.06-205.69-3.85-0.324-8.125-0.815-9.5-1.091-3.064-0.616-65.359-1.195-73-0.679m5427.9 16.148c-1.855 0.927-3.965 2.93-4.688 4.452l-1.314 2.768-0.068 482.58-0.069 482.58 5.308 5.308 65.228 0.18c68.351 0.188 70.615 0.056 72.58-4.256l1.147-2.518v-54.453-54.453l1.5-0.15c0.825-0.083 1.904-0.195 2.397-0.25 1.105-0.123 7.709 8.78 16.288 21.957 13.612 20.91 35.397 44.413 51.427 55.484 40.193 27.759 66.195 39.147 106.89 46.812 154.7 29.142 289.27-63.47 330.37-227.35 14.069-56.105 21.621-152.91 14.744-189-0.21-1.1-0.701-5.375-1.092-9.5-13.727-144.86-88.711-256.88-196.02-292.84-32.551-10.909-57.38-14.672-96-14.55l-26 0.082-13 1.63c-16.149 2.025-17.638 2.282-30.161 5.215-57.634 13.496-108.86 50.319-143.66 103.27-3.649 5.552-9.006 12.404-11.904 15.227l-5.27 5.133-0.5-188.83-0.5-188.84-1.428-2.15c-0.785-1.182-2.874-2.839-4.641-3.682l-3.214-1.532-124.97-6e-3 -3.375 1.685m-2008.2 1.429c0.555 2.348 6.563 24.649 8.285 30.756 0.543 1.925 2.116 7.775 3.497 13s2.956 11.075 3.5 13 2.119 7.775 3.5 13 2.956 11.075 3.5 13 2.119 7.775 3.5 13 2.942 11.075 3.471 13c0.528 1.925 2.104 7.775 3.502 13s2.975 11.075 3.506 13 2.097 7.775 3.48 13c1.384 5.225 4.034 15.125 5.891 22 1.856 6.875 5.066 18.8 7.131 26.5 2.066 7.7 5.216 19.4 7 26 1.785 6.6 4.936 18.3 7.003 26 2.068 7.7 5.47 20.3 7.561 28s5.669 20.975 7.95 29.5c2.282 8.525 5.434 20.225 7.005 26s4.721 17.475 7 26 5.428 20.225 6.997 26 4.971 18.375 7.56 28 6.169 22.9 7.957 29.5c1.787 6.6 4.939 18.3 7.005 26 2.065 7.7 5.215 19.4 7 26 1.784 6.6 4.934 18.3 7 26 6.07 22.629 10.427 38.751 11.484 42.5 0.543 1.925 2.116 7.775 3.497 13s2.956 11.075 3.5 13 2.119 7.775 3.5 13 2.956 11.075 3.5 13 2.119 7.775 3.5 13 2.942 11.075 3.471 13c0.528 1.925 2.042 7.55 3.365 12.5 5.57 20.85 10.102 37.742 13.145 49 1.785 6.6 4.935 18.3 7 26 2.066 7.7 5.216 19.4 7 26 1.785 6.6 4.936 18.3 7.003 26 2.068 7.7 5.47 20.3 7.561 28s5.669 20.975 7.95 29.5c2.282 8.525 5.434 20.225 7.005 26s4.725 17.475 7.009 26c5.411 20.193 10.252 38.157 14.955 55.5 2.088 7.7 4.854 17.938 6.147 22.75l2.35 8.75h72.127 72.126l7.541-26.25c4.148-14.437 22.024-76.875 39.726-138.75s49.676-173.48 71.054-248 43.188-150.8 48.467-169.5c15.829-56.074 44.564-155.9 45.003-156.34 1.709-1.709 3.861 3.588 9.732 23.961 8.281 28.739 67.593 236.01 102.98 359.88 14.377 50.325 43.065 150.68 63.75 223l37.611 131.5h72.397 72.396l2.807-10.5c1.545-5.775 4.443-16.575 6.441-24 4.436-16.488 7.696-28.631 10.87-40.5 1.324-4.95 3.141-11.7 4.038-15s2.468-9.15 3.491-13c2.247-8.452 5.345-20.025 7.362-27.5 0.816-3.025 2.391-8.875 3.5-13s2.714-10.088 3.568-13.25 2.25-8.338 3.104-11.5 2.459-9.125 3.566-13.25c1.108-4.125 3.053-11.325 4.323-16 1.269-4.675 3.942-14.575 5.94-22s5.21-19.35 7.138-26.5c1.927-7.15 5.077-18.85 7-26 1.922-7.15 5.072-18.85 7-26 1.927-7.15 5.077-18.85 7-26 4.704-17.497 9.288-34.478 14.981-55.5s10.277-38.003 14.981-55.5c1.923-7.15 5.073-18.85 7-26 1.928-7.15 5.078-18.85 7-26 1.923-7.15 5.073-18.85 7-26 1.928-7.15 5.078-18.85 7-26 1.923-7.15 5.073-18.85 7-26 1.928-7.15 5.078-18.85 7-26 1.923-7.15 5.073-18.85 7-26 1.928-7.15 5.078-18.85 7-26 1.923-7.15 5.073-18.85 7-26 5.147-19.091 9.434-35.063 11.54-43 2.14-8.065 5.217-19.561 7.359-27.5 0.816-3.025 2.391-8.875 3.5-13s2.684-9.975 3.5-13 2.391-8.875 3.5-13 2.684-9.975 3.5-13 2.391-8.875 3.5-13c2.61-9.711 4.421-16.417 7.427-27.5 1.343-4.95 4.076-15.075 6.074-22.5s5.21-19.35 7.138-26.5c1.927-7.15 5.077-18.85 7-26 1.922-7.15 5.072-18.85 7-26 1.927-7.15 5.133-19.075 7.122-26.5 1.99-7.425 3.838-14.288 4.105-15.25l0.487-1.75h-78.097-78.098l-0.51 2.25c-0.73 3.216-6.277 26.796-8.528 36.25-1.048 4.4-3.298 13.85-5 21-4.407 18.504-7.84 32.979-9.606 40.5-0.839 3.575-2.603 11-3.92 16.5-4.252 17.76-11.873 49.754-15.366 64.5-1.107 4.675-3.406 14.35-5.108 21.5-5.059 21.243-7.982 33.518-10.001 42-3.592 15.096-8.079 34.004-9.49 40-0.777 3.3-2.757 11.625-4.401 18.5-3.617 15.126-7.104 29.773-10.596 44.5-2.635 11.112-3.896 16.416-9.512 40-6.183 25.966-6.955 29.213-9.992 42-1.697 7.15-3.722 15.7-4.499 19s-2.757 11.625-4.401 18.5c-3.547 14.837-7.225 30.284-10 42-1.107 4.675-3.406 14.35-5.108 21.5s-3.952 16.6-5 21-3.298 13.85-5 21c-4.069 17.086-7.743 32.568-9.491 40-0.777 3.3-2.757 11.625-4.401 18.5s-4.14 17.337-5.548 23.25c-1.408 5.912-3.663 15.362-5.011 21-1.348 5.637-3.351 14.075-4.452 18.75s-3.395 14.35-5.097 21.5c-1.703 7.15-4.221 17.725-5.596 23.5-5.663 23.781-6.593 27.496-7.076 28.278-0.883 1.43-3.175-1.297-3.862-4.597-0.365-1.75-2.81-11.056-5.434-20.681s-7.139-26.275-10.032-37-7.393-27.375-10-37-7.107-26.275-10-37-7.393-27.375-10-37-7.107-26.275-10-37-7.393-27.375-10-37-7.107-26.275-10-37-7.393-27.375-10-37-7.107-26.275-10-37c-6.251-23.171-14.4-53.311-16.493-61-0.824-3.025-3.072-11.35-4.997-18.5s-4.175-15.475-5-18.5-3.071-11.35-4.99-18.5-4.183-15.475-5.031-18.5c-1.989-7.093-2.867-10.349-6.068-22.5-1.448-5.5-3.206-12.025-3.905-14.5-2.007-7.106-3.2-11.481-7.499-27.5-2.214-8.25-4.464-16.575-5-18.5s-2.786-10.25-5-18.5-4.464-16.575-5-18.5-2.786-10.25-5-18.5-4.464-16.575-5-18.5-2.786-10.25-5-18.5-4.464-16.575-5-18.5-2.726-10.025-4.868-18c-6.937-25.831-14.361-53.389-15.625-58l-1.233-4.5-142.83-0.513-3.856 14.256c-2.121 7.842-5.991 22.132-8.6 31.757s-7.111 26.275-10.004 37-7.393 27.375-10 37c-5.635 20.809-13.755 50.913-19.149 71-2.142 7.975-4.332 16.075-4.868 18s-2.786 10.25-5 18.5-4.464 16.575-5 18.5-2.786 10.25-5 18.5-4.464 16.575-5 18.5-2.786 10.25-5 18.5-4.464 16.575-5 18.5-2.786 10.25-5 18.5-4.464 16.575-5 18.5-2.786 10.25-5 18.5-4.466 16.575-5.003 18.5c-1.087 3.892-7.963 29.28-15.979 59-2.893 10.725-7.388 27.375-9.989 37s-7.525 27.85-10.943 40.5-8.168 30.2-10.555 39-7.135 26.35-10.552 39c-3.416 12.65-8.347 30.875-10.957 40.5-2.609 9.625-7.112 26.275-10.005 37-7.835 29.041-14.277 52.828-18.497 68.298l-3.765 13.798-1.583-0.305c-0.932-0.179-1.946-1.948-2.465-4.298-0.907-4.108-5.92-25.322-10.159-42.993-1.32-5.5-3.086-12.925-3.926-16.5-1.575-6.707-5.829-24.636-10.201-43-1.376-5.775-3.401-14.325-4.501-19-1.101-4.675-3.077-13-4.391-18.5s-3.569-14.95-5.01-21c-5.684-23.854-8.684-36.424-10.976-46-1.317-5.5-3.081-12.925-3.921-16.5-1.468-6.251-5.609-23.712-9.604-40.5-1.048-4.4-3.07-12.95-4.495-19s-3.454-14.6-4.509-19-3.312-13.85-5.015-21c-5.546-23.284-8.051-33.79-11.09-46.5-1.644-6.875-3.624-15.2-4.401-18.5s-2.802-11.85-4.499-19c-3.037-12.787-3.809-16.034-9.992-42-1.702-7.15-3.996-16.825-5.097-21.5s-3.132-13.225-4.514-19c-1.381-5.775-3.636-15.225-5.01-21s-3.843-16.125-5.487-23-3.624-15.2-4.401-18.5-2.802-11.85-4.499-19c-3.037-12.787-3.809-16.034-9.992-42-1.702-7.15-3.996-16.825-5.097-21.5s-3.104-13.113-4.452-18.75-3.603-15.087-5.011-21-3.85-16.15-5.428-22.75c-2.826-11.822-3.755-15.743-10.07-42.5-1.752-7.425-3.745-15.75-4.428-18.5l-1.242-5-156.09-0.512 0.534 2.256m-2889.5 487.01 0.251 488.25 143.5 0.513 0.068-168.76c0.037-92.817 0.238-176.63 0.447-186.26s0.638-33.501 0.953-53.057c0.315-19.557 0.732-36.432 0.928-37.5 0.195-1.069 0.671-5.093 1.058-8.943 8.481-84.386 78.712-146.6 165.55-146.64l17.5-9e-3 10 1.667c82.728 13.796 128.84 70.58 133.99 164.98 0.3 5.5 0.761 105.4 1.026 222l0.48 212 143.77 0.513 0.589-2.756c0.795-3.718 0.166-463.82-0.64-468.26-0.349-1.925-1.138-8.45-1.752-14.5-15.924-156.83-135.42-257.56-283.46-238.96-16.426 2.063-21.169 2.784-30 4.561-66.356 13.355-112.46 47.052-150.02 109.66-4.374 7.29-8.409 13.103-8.968 12.917l-1.015-0.339-0.253-189.67-0.252-189.67h-71.999-71.998l0.251 488.25m1043.8-237.57c-142.68 5.371-239.84 66.787-271.81 171.82-4.745 15.585-10.803 50.216-9.086 51.934 0.26 0.259 29.256 0.526 64.436 0.593l63.964 0.122 3.184-1.149c4.199-1.516 5.423-3.579 9.686-16.319 20.911-62.491 88.172-94.991 174.13-84.14 65.471 8.265 102.98 42.762 112.51 103.46l1.805 11.5 0.131 31.75 0.13 31.75-6.287 0.077c-3.459 0.042-6.963 0.206-7.788 0.366-0.825 0.159-7.575 0.59-15 0.957-7.425 0.368-16.2 0.872-19.5 1.122s-14.55 0.912-25 1.471c-10.45 0.56-22.6 1.247-27 1.527s-23.3 1.389-42 2.465c-53.494 3.078-60.815 3.662-89 7.109-142.22 17.394-225.43 91.081-227.99 201.91l-0.381 16.5 1.396 11c0.769 6.05 1.595 11.9 1.838 13 0.242 1.1 1.141 5.375 1.998 9.5 3.715 17.894 10.333 36.817 19.934 57 21.97 46.184 73.525 87.371 128.28 102.48 33.189 9.159 50.67 11.663 81.415 11.663 90.385 0 164.17-37.852 211.86-108.68 4.459-6.623 9.467-13.345 11.129-14.937l3.022-2.895v56.687 56.687h72.004 72.004l-0.106-248.75c-0.058-136.81-0.5-253.25-0.983-258.75-10.034-114.27-80.671-187.32-204.92-211.9-19.712-3.9-67.662-8.414-78.5-7.389-1.1 0.104-5.375 0.316-9.5 0.472m1484 0.906c-160.96 16.841-262.99 118-291.4 288.91-0.275 1.65-1.163 7.05-1.975 12-22.626 137.97 21.448 287.03 106.87 361.44 12.534 10.92 38.689 30.055 41.08 30.055 0.336 0 1.806 0.838 3.266 1.862 22.399 15.712 79.953 35.699 118.65 41.205 180.36 25.66 339-66.879 366.44-213.75l0.806-4.315h-68.794-68.793l-1.204 3.75c-22.385 69.718-109.66 111.16-201.68 95.762-44.2-7.395-78.544-26.173-105.27-57.556-3.023-3.551-5.767-6.681-6.097-6.956-12.275-10.23-33.876-61.328-39.427-93.267-2.287-13.16-3.877-41.169-2.781-48.981l0.526-3.748 501.28-0.504v-32.5c0-28.556-0.825-54.807-1.952-62.118-0.202-1.31-0.659-5.757-1.016-9.882-13.849-159.99-116.81-277.23-263.1-299.59l-16.931-2.587-55-0.653-13.5 1.413m3379.5-0.923c-156.14 13.956-249.16 98.488-245.21 222.83 1.967 61.944 24.794 103.5 78.707 143.3 7.729 5.706 28.728 17.146 43.5 23.698 24.875 11.034 44.234 16.583 119 34.109 138.17 32.389 165.38 46.129 176.62 89.2l2.009 7.697 0.032 10c0.2 61.966-51.597 96.198-145.16 95.934l-23.5-0.067-10.907-1.702c-58.942-9.201-95.238-38.152-111.16-88.665-4.391-13.93-5.275-15.85-8.178-17.752l-2.262-1.482-68.556-0.517-68.557-0.518 0.617 8.385c5.86 79.661 63.425 156.67 140.11 187.45 29.491 11.833 73.788 22.915 105.39 26.364 5.225 0.571 11.525 1.294 14 1.608 24.88 3.156 76.727 0.355 111.5-6.025 147.73-27.102 234.23-130.22 210.15-250.51-4.859-24.276-12.723-44.837-23.711-62l-4.161-6.5-10.639-8.74c-5.852-4.807-12.665-10.555-15.14-12.774-19.487-17.469-55.469-40.094-71.444-44.923-1.681-0.508-6.656-2.294-11.056-3.968-10.431-3.97-30.778-9.821-52-14.955-198.26-47.962-211.64-53.539-225.67-94.118-20.577-59.488 20.702-110.92 97.526-121.52l10.148-1.4 17.5 0.358 17.5 0.359 12 2.107c35.393 6.216 58.004 16.704 77.034 35.735 15.152 15.152 26.479 38.089 31.154 63.085l1.73 9.25h67.732c40.928 0 67.961-0.37 68.31-0.935 0.712-1.153-1.945-23.699-4.075-34.565-6.2-31.637-22.461-69.103-38.653-89.06-52.443-64.634-134.21-99.33-233.73-99.173-13.475 0.021-26.3 0.2-28.5 0.396m-1474.5 0.648c-0.262 0.238-4.977 0.713-10.477 1.056-126.32 7.888-220.77 78.818-268.5 201.63-2.885 7.425-6.052 15.525-7.037 18-8.737 21.947-19.115 67.759-22.426 99-0.321 3.025-0.839 7.3-1.151 9.5s-0.722 17.725-0.911 34.5l-0.343 30.5 1.373 14c3.697 37.713 8.56 63.509 19.136 101.5 8.618 30.962 22.649 64.122 36.811 87 20.007 32.319 39.287 53.676 72.249 80.03 26.119 20.883 78.584 44.743 118.66 53.966 33.353 7.675 80.927 11.234 113.72 8.508 77.9-6.478 134.02-26.153 182.41-63.945 51.578-40.285 87.305-95.683 96.934-150.31l1.278-7.25h-68.789-68.788l-0.665 2.25c-5.849 19.81-30.234 53.569-47.046 65.134-27.262 18.752-50.812 28.376-79.924 32.66-4.4 0.648-9.125 1.355-10.5 1.572-13.277 2.094-47.456 0.767-67.5-2.621-72.738-12.295-125.44-64.128-144.38-142-4.476-18.408-7.018-44.194-6.284-63.75l0.16-4.25h251.02 251.02l-0.142-37.25c-0.502-131.2-30.808-217.78-100.21-286.27-7.256-7.16-14.992-14.36-17.192-16-2.199-1.64-6.266-4.802-9.036-7.027-39.359-31.603-91.739-51.54-154.96-58.984-6.195-0.729-57.867-1.753-58.523-1.16m-2606 1.298c-1.375 0.212-6.55 0.881-11.5 1.487-70.597 8.64-131.51 45.934-170.08 104.14-8.874 13.39-11.672 17.579-14.8 22.153l-1.29 1.887-1.914-4.387-1.913-4.387-0.518-100.63-1.558-3.012c-0.88-1.703-3.082-3.649-5.066-4.478l-3.51-1.466-128.35 0.59-2.335 1.33c-1.284 0.732-2.971 2.855-3.75 4.718l-1.415 3.388v467.53 467.53h73 73v-173.5-173.5h2.766 2.767l3.157 5.25c1.737 2.888 5.811 8.4 9.055 12.25 3.243 3.85 9.898 11.95 14.787 18 21.668 26.808 33.473 37.852 58.143 54.394 27.848 18.673 56.793 29.981 92.825 36.266l13 2.268 28 0.02 28 0.021 14.5-2.281c69.231-10.889 113-31.893 155.5-74.632 60.826-61.16 91.991-140.46 101.03-257.06l1.318-17-0.395-28.5c-0.217-15.675-0.593-29.625-0.836-31s-0.736-6.325-1.095-11c-4.638-60.333-30.92-148.01-54.941-183.29-1.421-2.087-2.584-3.968-2.584-4.18 0-0.87-12.652-19.493-17.342-25.526-44.122-56.755-101.25-88.875-180.66-101.57l-10.5-1.679-26-0.264c-14.3-0.145-27.125-0.091-28.5 0.121m708.02 118.95c-66.761 9.486-116.92 50.119-141.28 114.44-7.849 20.73-14.743 49.723-14.743 62.007v5.993h179c112.28 0 179-0.354 179-0.949 0-0.522-0.906-5.81-2.013-11.75-1.108-5.941-2.716-14.626-3.575-19.301-17.254-93.908-78.857-149.67-167.41-151.54l-18.5-0.391-10.479 1.489m1898.6 0.473c-89.907 10.235-153.63 78.748-160.18 172.22l-0.683 9.75h177.64 177.64l-1e-3 -2.75c-0.048-109.21-89.001-191.22-194.41-179.22m-2642.6 5.036c-62.375 9.207-112.04 46.229-136.75 101.93-1.341 3.025-3.251 7.3-4.243 9.5-44.378 98.416-30.932 241.57 29.399 313 27.417 32.46 60.651 52.139 103.34 61.191l12.756 2.705 21.5-0.019 21.5-0.018 11.5-2.28c55.189-10.943 96.542-43.155 120.01-93.484 14.788-31.711 27.322-76.478 30.546-109.1 0.38-3.85 0.886-7.9 1.125-9 7.582-34.987-6.533-121.35-28.055-171.66-31.699-74.1-103.42-114.46-182.63-102.77m3418.6 0.137c-110.7 7.888-184.54 125.02-172.26 273.29 9.544 115.3 67.182 194.74 154.23 212.57l9.946 2.037 39.563 1.166 9.219-1.225c91.16-12.123 149.73-86.123 160.71-203.05 0.593-6.325 1.285-13.3 1.536-15.5 0.921-8.078 0.55-54.42-0.52-65.047-3.389-33.623-11.357-66.036-22.642-92.104-0.75-1.733-1.364-3.422-1.364-3.754 0-2.154-13.364-26.843-19.499-36.021-34.79-52.051-90.16-77.267-158.91-72.368m-6795.6 257.41c-56.304 7.115-94.983 21.322-130.65 47.986-34.031 25.443-62.634 63.182-80.644 106.4-9.06 21.741-13.004 36.815-16.218 61.991l-1.341 10.5 0.337 20.5 0.338 20.5 2.086 13.573c21.66 140.88 157.16 233 296.09 201.31 70.381-16.059 121.49-53.7 158.42-116.67 22.449-38.278 30.787-73.516 30.101-127.21l-0.345-27-1.526-9c-16.347-96.39-83.803-170.19-178.65-195.44-9.946-2.648-14.412-3.606-28.507-6.115-6.225-1.108-43.355-2.103-49.5-1.327m2755 21.465c-5.775 0.348-16.35 0.935-23.5 1.303-7.15 0.369-15.7 0.874-19 1.122-3.3 0.247-10.275 0.686-15.5 0.974-17.761 0.979-43.48 2.539-49.5 3.003-3.3 0.255-9.375 0.716-13.5 1.026-32.603 2.448-46.673 3.916-56.742 5.923-4.635 0.924-22.256 5.887-36.032 10.149-7.851 2.429-14.856 4.416-15.567 4.416-3.723 0-19.654 9.873-28.405 17.604-22.588 19.954-31.973 44.124-30.103 77.52l0.651 11.623 2.66 8.877c14.348 47.883 61.954 74.754 129.56 73.128l19.482-0.469 12.407-2.228c40.961-7.354 76.504-25.111 102.09-51.007 8.305-8.404 9.491-9.789 16.305-19.048 19.678-26.737 30.404-69.3 29.106-115.5-0.123-4.4-0.333-12.03-0.465-16.956-0.133-4.926-0.458-9.786-0.723-10.799l-0.482-1.842-6.12 0.274c-3.367 0.151-10.846 0.559-16.621 0.907" fill="currentColor" fillRule="evenodd"/>

    </svg>
  </Link>

          <nav className="header__nav__H7k2s">
            <ul className="header__nav-list__Z9j4p">
              <li className="header__nav-item__Q5m3r">
                <NavSubmenu
                  title="Product"
                  sections={productSections}
                  isOpen={openSubmenu === "product"}
                  onToggle={() => toggleSubmenu("product")}
                  onHover={() => handleHover("product")}
                  menuIndex={0}
                />
              </li>
              <li className="header__nav-item__Q5m3r">
                <NavSubmenu
                  title="Resources"
                  sections={resourcesSections}
                  isOpen={openSubmenu === "resources"}
                  onToggle={() => toggleSubmenu("resources")}
                  onHover={() => handleHover("resources")}
                  menuIndex={1}
                />
              </li>
              {navItems.map((item) => (
                <li key={item.href} className={`header__nav-item__Q5m3r ${item.className}`}>
                  <Link
                    href={item.href}
                    className="button__root__ZxcvB button__kind-ghost__R5j2s button__size-small__L9d7h"
                  >
                    {item.label}
                  </Link>
                </li>
              ))}
            </ul>
          </nav>

          <div className="header__actions__L6j8s">
            <div className="header__theme-toggle__P8k4r">
              <ThemeToggle />
            </div>
            <div className="header__theme-toggle__P8k4r">
              <Tooltip content="Search" position="bottom">
                <button className="header__search-button__P5k8q" onClick={toggleSearch} aria-label="Search">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="7" cy="7" r="4.5" stroke="currentColor" strokeWidth="1" />
                    <path
                      d="M10.5 10.5L14 14"
                      stroke="currentColor"
                      strokeWidth="1"
                      strokeLinecap="round"
                      strokeLinejoin="round"
                    />
                  </svg>
                </button>
              </Tooltip>
            </div>

            <Link
              href="/get-started"
              className="button__root__ZxcvB button__kind-secondary__R5j2s button__size-small__L9d7h header__get-started-button__B9k6p"
            >
              Get Started
            </Link>
            <button
              className="header__hamburger__Q7p3s"
              onClick={toggleMobileMenu}
              aria-expanded={mobileMenuOpen}
              aria-label="Toggle menu"
            >
            <div className="header__hamburger__content__Q7p3s">
              <span className="header__hamburger-line__Z9j4p"></span>
              <span className="header__hamburger-line__Z9j4p"></span>
              <span className="header__hamburger-line__Z9j4p"></span>
              </div>
            </button>
          </div>
        </div>

        {isAnySubmenuOpen && (
          <div ref={submenuRef} className={`header__submenu-container__H8p4q ${getTransitionClasses()}`}>
            <div ref={submenuContentRef} className="header__submenu-content__L7j3s">
              {activeSubmenuSections.map((section, sectionIndex) => (
                <div key={sectionIndex} className="header__submenu-section__K8j4p">
                  <h4 className="header__submenu-section-title__P3k7s">{section.title}</h4>
                  <div className="header__submenu-section-items__L9m2q">
                    {section.items.map((item) => (
                      <Link
                        key={item.href}
                        href={item.href}
                        className="header__submenu-item__Z9k4r button__kind-ghost__R5j2s"
                      >
                        <div className="header__submenu-item-content__P8j3s">
                          <span className="header__submenu-item-label__L7k4r">{item.label}</span>
                          <span className="header__submenu-item-description__Q9m2p">{item.description}</span>
                        </div>
                      </Link>
                    ))}
                  </div>
                </div>
              ))}
            </div>
          </div>
        )}

        {/* Mobile Menu */}
        {mobileMenuOpen && (
          <div ref={mobileMenuRef} className="header__mobile-menu__L7j3s">
            <div className="header__mobile-menu-content__P5k8q">
              <ul className="header__mobile-nav-list__B9k6p">
                {navItems.map((item) => (
                  <li key={item.href} className="header__mobile-nav-item__Z7j3s">
                    <Link
                      href={item.href}
                      className="header__mobile-nav-link__Q5m3r"
                      onClick={() => setMobileMenuOpen(false)}
                    >
                      {item.label}
                    </Link>
                  </li>
                ))}
                <li className="header__mobile-nav-item__Z7j3s">
                  <Link
                    href="/get-started"
                    className="header__mobile-nav-link__Q5m3r"
                    onClick={() => setMobileMenuOpen(false)}
                  >
                    Get Started
                  </Link>
                </li>
              </ul>
            </div>
          </div>
        )}
        <SearchPopup isOpen={searchOpen} onClose={() => setSearchOpen(false)} />
      </header>
    </TooltipProvider>
  )
}

// Helper function to detect if user is on Mac
function isMac() {
  return typeof window !== "undefined" && window.navigator.platform.toUpperCase().indexOf("MAC") >= 0
}
